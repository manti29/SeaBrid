<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="utf-8" />
        <title>SeaBrid-HTML</title>
        <!-- 本地 Bootstrap 核心 CSS 文件 -->
        <link rel="stylesheet" href="css/bootstrap.css" />
        <link rel="stylesheet" href="css/add.css" />
    </head>

    <body>
        <div class="container">
            <div class="row">
                <!-- tabs标签 -->
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#login" data-toggle="tab">登录</a></li>
                    <li><a href="#register" data-toggle="tab">注册</a></li>
                </ul>
                <!-- tabs标签主体 -->
                <div class="tab-content">
                    <!-- 登录 -->
                    <div class="tab-pane active" id="login">
                        <form class="form-horizontal" action="aa.html">
                            <div class="container">
                                <div class="form-group" id="notice"></div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="username" class="input-group-addon">
                                            <span class="glyphicon glyphicon-user"></span>
                                        </label>
                                        <input type="text" id="username" class="form-control" placeholder="用户名：(用户名/手机号可登陆)">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="password" class="input-group-addon">
                                            <span class="glyphicon glyphicon-lock"></span>
                                        </label>
                                        <input type="text" id="password" class="form-control" placeholder="登录密码：">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="code" class="input-group-addon">
                                            <span class="glyphicon glyphicon-text-background"></span>
                                        </label>
                                        <input type="text" id="code" class="form-control" placeholder="验证码：">
                                        <div for="password" class="input-group-addon">
                                            <a href="#"><img src="img/code.png" height="20" alt="点击可以更换" title="点击可以更换" /></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-lg btn-block btn-success">登录</button>
                        </form>
                    </div>
                    <!-- 注册 -->
                    <div class="tab-pane" id="register">
                        <form class="form-horizontal" action="register.html">
                            <div class="container">
                                <div class="form-group"></div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="user" class="input-group-addon">
                                            <span class="glyphicon glyphicon-user"></span>
                                        </label>
                                        <input type="text" id="user" class="form-control" placeholder="用户名：">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="taxCode" class="input-group-addon">
                                            <span class="glyphicon glyphicon-list-alt"></span>
                                        </label>
                                        <input type="text" id="taxCode" class="form-control" placeholder="税务登记号：">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="mobilephone" class="input-group-addon">
                                            <span class="glyphicon glyphicon-phone"></span>
                                        </label>
                                        <input type="text" id="mobilePhone" class="form-control" placeholder="手机号码：">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="password" class="input-group-addon">
                                            <span class="glyphicon glyphicon-lock"></span>
                                        </label>
                                        <input type="text" id="password" class="form-control" placeholder="登录密码：">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="messageCode" class="input-group-addon">
                                            <span class="glyphicon glyphicon-menu-hamburger"></span>
                                        </label>
                                        <input type="text" id="messageCode" class="form-control" placeholder="短信验证码：">
                                        <span class="input-group-btn">
                                            <button class="btn btn-default btn-info" type="button" id="btnMesCode">获取短信验证码</button>
                                        </span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <label for="code" class="input-group-addon">
                                            <span class="glyphicon glyphicon-text-background"></span>
                                        </label>
                                        <input type="text" id="code" class="form-control" placeholder="验证码：">
                                        <div for="password" class="input-group-addon">
                                            <a href="#"><img src="img/code.png" height="20" alt="点击可以更换" title="点击可以更换" /></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group text-center">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checked="true" id="agreeCheck">我已同意 <a target="_blank" href="aa.html">《XXXXXX协议》</a>
                                        </label>                                          
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-lg btn-block btn-primary">注册</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- 本地jQuery文件。务必在bootstrap.min.js 之前引入 -->
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <!-- 本地最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="js/bootstrap.js"></script>
        
        <script>
            var inputEle=$('input[type="text"]');
            var submitBtn=$('button[type="submit"]');
            var btnMesCode=$("#btnMesCode");
            var agreeCheck=$("#agreeCheck");
            $(inputEle).change(function(){
                var obj=event.target;
                checkForm(obj);
            });
            //提交按钮
            $(submitBtn).click(function(){
                var btnParent=$(this).parent();
                var inputElements=btnParent.find('input[type="text"]');
                console.log(btnParent+":"+inputElements.length);
                var flag=checkForm(btnParent,inputElements.length);
                if(inputElements.length===flag){
                    return true;
                }
            });
            //获取验证码
            btnMesCode.click(function(){
               var timer=obj=null,t=60;
               obj=this;
               $(obj).text(t+' s').attr("disabled",true);
               timer=setInterval(function(){
                   t--;
                   if(t<=0){
                       clearInterval(timer);
                       $(obj).text('获取短信验证码').removeAttr("disabled");
                   }else{
                       $(obj).text(t+' s');
                   }                   
               },100);
            })
            //同意协议注册
            agreeCheck.change(function(){
                if(!this.checked){
                    $(submitBtn).eq(1).attr("disabled",true);
                }else{
                    $(submitBtn).eq(1).attr("disabled",false);
                }
            })
            function checkForm(obj){
                var success="has-success has-feedback";
                var successSpan='<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>';
                var err="has-error has-feedback";
                var errSpan='<span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>';
                addDomNotice(obj,success,successSpan);
            }
            function addDomNotice(obj,cssName,spanPart){
                var objParent=$(obj).parent().parent();
                objParent.addClass(cssName);
                $(spanPart).appendTo($(obj));
            }
        </script>
    </body>

</html>