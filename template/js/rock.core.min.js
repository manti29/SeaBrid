$(function () {
    var a = $("meta[name='_csrf']").attr("content"), b = $("meta[name='_csrf_header']").attr("content");
    $(document).ajaxSend(function (d, c, e) {
        c.setRequestHeader(b, a)
    })
});
$(function () {
    $.ajaxSetup({cache: !1, dataType: "json"})
});
$(function () {
    $("a#logout").click(function () {
        var a = $("meta[name='_context_url']").attr("content");
        $.ajax({type: "POST", url: a + "/logout/"}).always(function (b) {
            window.location.reload(!0)
        })
    })
});
$(function () {
    0 < $(".switch").length && $(".switch").bootstrapSwitch()
});
$(function () {
    0 < $(".pick_datetime").length && $(".pick_datetime").datetimepicker({
        language: "zh-CN",
        weekStart: 1,
        autoclose: !0,
        todayBtn: !0,
        todayHighlight: !0,
        showMeridian: !0
    });
    0 < $(".pick_date").length && $(".pick_date").datetimepicker({
        language: "zh-CN",
        weekStart: 1,
        autoclose: !0,
        todayBtn: !0,
        todayHighlight: !0,
        startView: 2,
        minView: 2
    });
    0 < $(".pick_time").length && $(".pick_time").datetimepicker({
        language: "zh-CN",
        weekStart: 1,
        autoclose: !0,
        todayBtn: !0,
        todayHighlight: !0,
        startView: 1,
        minView: 0,
        maxView: 1,
        forceParse: !1
    })
});
function sysAlert(a, b, d) {
    $("#sys-alert-title").text(b);
    $("#sys-alert-body").text(d);
    var c = "";
    "success" == a ? c = "alert-success" : "info" == a ? c = "alert-info" : "warning" == a ? c = "alert-warning" : "error" == a && (c = "alert-danger");
    $(".sys-alert-message").addClass(c).removeClass("hidden").removeClass("hidden");
    setTimeout(function () {
        $(".sys-alert-message").addClass("hidden").removeClass(c)
    }, 4E3)
}
function checkRequired(a) {
    var b = !0, d = 0;
    $(a).find("input[data-required=true]").each(function () {
        "" == $(this).val().trim() && (b = !1, d++)
    });
    $(a).find("textarea[data-required=true]").each(function () {
        "" == $(this).val().trim() && (b = !1, d++)
    });
    b || sysAlert("error", "\u9519\u8bef\uff01", "\u6709" + d + "\u9879\u5fc5\u586b\u9879\u6ca1\u6709\u5185\u5bb9\uff0c\u8bf7\u68c0\u67e5\u3002");
    return b
}
function getFormJson(a) {
    a = a.serializeArray();
    var b = {};
    $.each(a, function () {
        b[this.name] ? (b[this.name].push || (b[this.name] = [b[this.name]]), b[this.name].push(this.value || "")) : b[this.name] = this.value || ""
    });
    return b
}
$(function () {
    null != jQuery.fn.dataTableExt && jQuery.extend(jQuery.fn.dataTableExt.oSort, {
        "chinese-asc": function (a, b) {
            return null != a ? a.localeCompare(b) : -1
        }, "chinese-desc": function (a, b) {
            return null != b ? b.localeCompare(a) : 1
        }
    })
});
function bindEnterHandler(a, b) {
    a.keydown(function (a) {
        13 === a.keyCode && b.call()
    })
};
